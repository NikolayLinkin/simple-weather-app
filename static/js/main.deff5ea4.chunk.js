(this["webpackJsonptest-app-algoritmika"]=this["webpackJsonptest-app-algoritmika"]||[]).push([[0],{23:function(e,t,n){e.exports=n(37)},29:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),o=n.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(28),n(29);var i=n(2),s=n(13),u=n(14),m=n(16);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={woeid:null,consolidatedWeather:[],time:null,sunRise:null,sunSet:null},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_LOCATION_SUCCESS":return p({},e,{woeid:t.woeid});case"FETCH_WEEK_WEATHERS_SUCCESS":return p({},e,{consolidatedWeather:t.consolidatedWeather,time:t.time,sunRise:t.sunRise,sunSet:t.sunSet});default:return e}},h=Object(i.combineReducers)({weather:w});function f(e){var t=Object(u.composeWithDevTools)(Object(i.applyMiddleware)(s.a));return Object(i.createStore)(h,e,t)}var b,y=n(6),v=n(20),E=n(17),_=n(18),O=n(21),k=n(19),j=n(22),S=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],g=["January","February","March","April","May","June","July","August","September","October","November","December"],C=function(e){var t,n,a=e.weekItem,c=(a.weatherStateName,a.weatherStateAbbr),o=a.minTemp,i=a.maxTemp,s=a.applicableDate,u=new Date(s);return r.a.createElement("div",{className:"week-item week-item--".concat(c)},r.a.createElement("div",{className:"week-item__date"},r.a.createElement("div",{className:"week-item__week-day"},(n=u.getDay(),S[n])),r.a.createElement("div",{className:"week-item__month-day"},u.getDate()," ",(t=u.getMonth(),g[t]))),r.a.createElement("div",{className:"week-item__temp"},r.a.createElement("span",{className:"week-item__temp__max"},i.toFixed(0)),"/",r.a.createElement("span",{className:"week-item__temp__min"},o.toFixed(0)),r.a.createElement("img",{src:"https://www.metaweather.com/static/img/weather/png/64/".concat(c,".png"),alt:""})))},N=function(e){var t=e.weekItems;return r.a.createElement("div",{className:"weather__week"},t.map((function(e){return r.a.createElement(C,{key:e.id,weekItem:e})})))},W=function(e){function t(){return Object(E.a)(this,t),Object(O.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchLocation)("moscow")}},{key:"render",value:function(){var e=this.props.weekItems;return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"tabs"},r.a.createElement("span",{className:"tabs__tab tabs__tab--active"},"Today"),r.a.createElement("span",{className:"tabs__tab"},"Week")),r.a.createElement(N,{weekItems:e}))}}]),t}(a.Component),T=n(4),D=n.n(T),x=n(10),P=n(11),I=n.n(P),A=function(e,t){return fetch(e,t).then((function(e){return e.ok?e.json():Promise.reject(e.text())}),(function(e){return Promise.reject(e)})).then((function(e){return{json:I()(e)}}),(function(e){return{error:e}})).catch((function(e){return I()(e)}))},F="https://cors-anywhere.herokuapp.com/metaweather.com",R=function(e){return"".concat(F,"/api/location/search/?query=").concat(e)},H=function(e){return"".concat(F,"/api/location/").concat(e,"/")},M=function(e){return{type:"FETCH_LOCATION_SUCCESS",woeid:e}},J=function(e,t,n,a){return{type:"FETCH_WEEK_WEATHERS_SUCCESS",consolidatedWeather:e,time:t,sunRise:n,sunSet:a}},L=function(e){return function(){var t=Object(x.a)(D.a.mark((function t(n){var a,r,c,o,i,s;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(H(e));case 2:a=t.sent,r=a.json,c=r.consolidatedWeather,o=r.time,i=r.sunRise,s=r.sunSet,n(J(c,o,i,s));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},U=function(e){return e.weather.consolidatedWeather},B=Object(y.b)((function(e){return{weekItems:U(e)}}),{fetchLocation:function(e){return function(){var t=Object(x.a)(D.a.mark((function t(n){var a,r,c;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(R(e));case 2:a=t.sent,r=a.json,c=r[0].woeid,n(M(c)),n(L(c));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){return r.a.createElement(W,e)}));b=B,o.a.render(r.a.createElement(v.AppContainer,null,r.a.createElement(y.a,{store:f()},r.a.createElement(b,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[23,1,2]]]);
//# sourceMappingURL=main.deff5ea4.chunk.js.map