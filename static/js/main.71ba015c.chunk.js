(this["webpackJsonptest-app-algoritmika"]=this["webpackJsonptest-app-algoritmika"]||[]).push([[0],{25:function(e,t,a){e.exports=a(58)},31:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(30),a(31);var i=a(3),s=a(20),u=a(21),l=a(23);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h={consolidatedWeather:[],today:{},activeTab:"week",isFetching:!1},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_LOCATION_SUCCESS":return d({},e,{woeid:t.woeid});case"FETCH_WEEK_WEATHERS_SUCCESS":return d({},e,{consolidatedWeather:t.consolidatedWeather,time:t.time,sunRise:t.sunRise,sunSet:t.sunSet});case"FETCH_TODAY_WEATHERS_SUCCESS":return d({},e,{today:t.today});case"SWITCH_TABS":return d({},e,{activeTab:t.activeTab});default:return e}},b={woeid:2122265,time:null,sunRise:null,sunSet:null},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_LOCATION_SUCCESS":return{woeid:t.woeid,time:t.time,sunRise:t.sunRise,sunSet:t.sunSet};default:return e}},w=Object(i.combineReducers)({weather:p,location:f});function y(e){var t=Object(u.composeWithDevTools)(Object(i.applyMiddleware)(s.a));return Object(i.createStore)(w,e,t)}var v,E=a(13),_=a(24),T=a(5),k=a(6),O=a(8),S=a(7),j=a(11),C=a(9),g=a(12),W=a.n(g),N=function(e){var t=e.activeTab,a=e.name,n=e.onClickTab,c=e.children;return r.a.createElement("span",{className:"".concat(t===a?"tabs__tab tabs__tab--active":"tabs__tab"),onClick:function(){n(a)}},c)},F=function(e){var t=e.activeTab,a=e.onClickTab;return r.a.createElement("div",{className:"tabs"},r.a.createElement(N,{name:"week",onClickTab:a,activeTab:t},"Week"),r.a.createElement(N,{name:"today",onClickTab:a,activeTab:t},"Today"))},x=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],D=["January","February","March","April","May","June","July","August","September","October","November","December"],A=function(e){return"".concat(e.getFullYear(),"/").concat(e.getMonth()+1,"/").concat(e.getDate(),"/")},H=function(e){var t,a,n=e.item,c=(n.weatherStateName,n.weatherStateAbbr),o=n.minTemp,i=n.maxTemp,s=n.applicableDate,u=new Date(s);return r.a.createElement("div",{className:"week-item week-item--".concat(c)},r.a.createElement("div",{className:"week-item__date"},r.a.createElement("div",{className:"week-item__week-day"},(a=u.getDay(),x[a])),r.a.createElement("div",{className:"week-item__month-day"},u.getDate()," ",(t=u.getMonth(),D[t]))),r.a.createElement("div",{className:"week-item__temp"},r.a.createElement("span",{className:"week-item__temp__max"},i.toFixed(0)),"/",r.a.createElement("span",{className:"week-item__temp__min"},o.toFixed(0)),r.a.createElement("img",{src:"https://www.metaweather.com/static/img/weather/png/64/".concat(c,".png"),alt:""})))},R=function(e){function t(){return Object(T.a)(this,t),Object(O.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.fetchWeekWeathers)(e.woeid)}},{key:"render",value:function(){var e=this.props.items;return r.a.createElement("div",{className:"weather__week"},e.map((function(e){return r.a.createElement(H,{key:e.id,item:e})})))}}]),t}(n.Component),P=function(e){function t(){return Object(T.a)(this,t),Object(O.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.fetchTodayWeathers)(e.woeid,new Date)}},{key:"render",value:function(){var e=this.props.today,t=e.minTemp,a=e.maxTemp,n=e.theTemp,c=e.created,o=e.applicableDate,i=e.weatherStateAbbr,s=e.weatherStateName;return Object.keys(this.props.today).length?r.a.createElement("div",{className:"weather__today weather__today--".concat(i)},r.a.createElement("div",{className:"weather__today__last-update"},c),r.a.createElement("div",{className:"weather__today__date"},o),r.a.createElement("img",{src:s,alt:""}),r.a.createElement("div",{className:"weather__today__temp"},r.a.createElement("span",null,n.toFixed(0)),r.a.createElement("span",null,a.toFixed(0),"/",t.toFixed(0)))):r.a.createElement(W.a,{type:"Bars",color:"#cbd2d",width:50,height:50})}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(O.a)(this,Object(S.a)(t).call(this,e))).onClickTab=a.onClickTab.bind(Object(j.a)(a)),a}return Object(C.a)(t,e),Object(k.a)(t,[{key:"onClickTab",value:function(e){var t=this.props,a=t.switchTabs;t.activeTab!==e&&a(e)}},{key:"render",value:function(){var e=this.props,t=e.weekItems,a=e.fetchWeekWeathers,n=e.fetchTodayWeathers,c=e.woeid,o=e.activeTab,i=e.today;return e.isFetching?r.a.createElement(W.a,{type:"Bars",color:"#cbd2d",width:50,height:50}):r.a.createElement("div",{className:"wrapper"},r.a.createElement(F,{activeTab:o,onClickTab:this.onClickTab}),"today"===o?r.a.createElement(P,{fetchTodayWeathers:n,woeid:c,today:i}):"","week"===o?r.a.createElement(R,{fetchWeekWeathers:a,woeid:c,items:t}):"")}}]),t}(n.Component),M=a(4),U=a.n(M),B=a(14),J=a(18),L=a.n(J),Y=function(e,t){return fetch(e,t).then((function(e){return e.ok?e.json():Promise.reject(e.text())}),(function(e){return Promise.reject(e)})).then((function(e){return{json:L()(e)}}),(function(e){return{error:e}})).catch((function(e){return L()(e)}))},K="https://cors-anywhere.herokuapp.com/metaweather.com",q=function(e){return"".concat(K,"/api/location/search/?query=").concat(e)},$=function(e){return"".concat(K,"/api/location/").concat(e,"/")},z=function(e,t){return"".concat(K,"/api/location/").concat(e,"/").concat(t)},G=function(e){return e.location.woeid},Q=function(e){return e.weather.consolidatedWeather},V=function(e){return e.weather.today},X=function(e){return e.weather.activeTab},Z=function(e){return e.weather.isFetching},ee=function(e){return{type:"FETCH_LOCATION_SUCCESS",woeid:e}},te=function(e,t,a,n){return{type:"FETCH_WEEK_WEATHERS_SUCCESS",consolidatedWeather:e,time:t,sunRise:a,sunSet:n}},ae=Object(E.b)((function(e){return{weekItems:Q(e),woeid:G(e),today:V(e),activeTab:X(e),isFetching:Z(e)}}),{fetchLocation:function(e){return function(){var t=Object(B.a)(U.a.mark((function t(a){var n,r,c;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y(q(e));case 2:n=t.sent,r=n.json,c=r[0].woeid,a(ee(c));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},fetchTodayWeathers:function(e,t){return function(){var a=Object(B.a)(U.a.mark((function a(n,r){var c,o,i,s;return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c=r(),o=V(c),Object.keys(o).length){a.next=8;break}return a.next=5,Y(z(e,A(t)));case 5:i=a.sent,s=i.json,n({type:"FETCH_TODAY_WEATHERS_SUCCESS",today:s[0]});case 8:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},switchTabs:function(e){return function(t){t({type:"SWITCH_TABS",activeTab:e})}},fetchWeekWeathers:function(e){return function(){var t=Object(B.a)(U.a.mark((function t(a){var n,r,c,o,i,s;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y($(e));case 2:n=t.sent,r=n.json,c=r.consolidatedWeather,o=r.time,i=r.sunRise,s=r.sunSet,a(te(c,o,i,s));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){return r.a.createElement(I,e)}));v=ae,o.a.render(r.a.createElement(_.AppContainer,null,r.a.createElement(E.a,{store:y()},r.a.createElement(v,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.71ba015c.chunk.js.map