(this["webpackJsonptest-app-algoritmika"]=this["webpackJsonptest-app-algoritmika"]||[]).push([[0],{25:function(e,t,a){e.exports=a(58)},31:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),o=a.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(30),a(31);var i=a(3),s=a(20),u=a(21),l=a(23);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={consolidatedWeather:[],today:{},activeTab:"today",isFetching:!1},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_LOCATION_SUCCESS":return h({},e,{woeid:t.woeid});case"FETCH_WEEK_WEATHERS_SUCCESS":return h({},e,{consolidatedWeather:t.consolidatedWeather,time:t.time,sunRise:t.sunRise,sunSet:t.sunSet});case"FETCH_TODAY_WEATHERS_SUCCESS":return h({},e,{today:t.today});case"SWITCH_TABS":return h({},e,{activeTab:t.activeTab});default:return e}},b={woeid:2122265,time:null,sunRise:null,sunSet:null},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_LOCATION_SUCCESS":return{woeid:t.woeid,time:t.time,sunRise:t.sunRise,sunSet:t.sunSet};default:return e}},f=Object(i.combineReducers)({weather:p,location:w});function y(e){var t=Object(u.composeWithDevTools)(Object(i.applyMiddleware)(s.a));return Object(i.createStore)(f,e,t)}var v,_=a(13),E=a(24),T=a(4),k=a(5),O=a(8),g=a(6),S=a(12),j=a(9),C=a(7),W=a.n(C),N=function(e){var t=e.activeTab,a=e.name,n=e.onClickTab,c=e.children;return r.a.createElement("span",{className:"".concat(t===a?"tabs__tab tabs__tab--active":"tabs__tab"),onClick:function(){n(a)}},c)},D=function(e){var t=e.activeTab,a=e.onClickTab;return r.a.createElement("div",{className:"tabs"},r.a.createElement(N,{name:"week",onClickTab:a,activeTab:t},"Week"),r.a.createElement(N,{name:"today",onClickTab:a,activeTab:t},"Today"))},A=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],F=function(e){return A[e]},x=["January","February","March","April","May","June","July","August","September","October","November","December"],H=function(e){return x[e]},R=function(e){return"".concat(e.getFullYear(),"/").concat(e.getMonth()+1,"/").concat(e.getDate(),"/")},P=function(e){var t=e.item,a=t.weatherStateAbbr,n=t.minTemp,c=t.maxTemp,o=t.applicableDate,i=new Date(o);return r.a.createElement("div",{className:"week-item week-item--".concat(a)},r.a.createElement("div",{className:"week-item__date"},r.a.createElement("div",{className:"week-item__week-day"},F(i.getDay())),r.a.createElement("div",{className:"week-item__month-day"},i.getDate()," ",H(i.getMonth()))),r.a.createElement("div",{className:"week-item__right-col"},r.a.createElement("div",{className:"week-item__temp"},r.a.createElement("span",{className:"week-item__temp__max"},c.toFixed(0),"\xb0"),"\xa0/\xa0",r.a.createElement("span",{className:"week-item__temp__min"},n.toFixed(0))),r.a.createElement("img",{src:"https://www.metaweather.com/static/img/weather/png/64/".concat(a,".png"),className:"week-item__img",alt:""})))},M=function(e){function t(){return Object(T.a)(this,t),Object(O.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.fetchWeekWeathers)(e.woeid)}},{key:"render",value:function(){var e=this.props.items;return e.length?r.a.createElement("div",{className:"weather__week-items"},e.map((function(e){return r.a.createElement(P,{key:e.id,item:e})}))):r.a.createElement(W.a,{className:"loader",color:"#cbd2d",type:"Bars",width:50})}}]),t}(n.Component),B=function(e){function t(){return Object(T.a)(this,t),Object(O.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.fetchTodayWeathers)(e.woeid,new Date)}},{key:"render",value:function(){var e=this.props.today,t=e.theTemp,a=(e.applicableDate,e.weatherStateAbbr),n=e.weatherStateName;return Object.keys(this.props.today).length?r.a.createElement("div",{className:"weather__today weather__today--".concat(a)},r.a.createElement("div",{className:"weather__today__date"},function(){var e=(new Date).getDay(),t=(new Date).getMonth();return"".concat(F(e),", ").concat(t," ").concat(H(t))}()),r.a.createElement("img",{src:"https://www.metaweather.com/static/img/weather/".concat(a,".svg"),className:"weather__today__img",alt:""}),r.a.createElement("div",{className:"weather__today__temp-type"},n),r.a.createElement("div",{className:"weather__today__temp"},t.toFixed(0),"\xb0")):r.a.createElement(W.a,{className:"loader",type:"Bars",color:"#cbd2d",width:50,height:50})}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(O.a)(this,Object(g.a)(t).call(this,e))).onClickTab=a.onClickTab.bind(Object(S.a)(a)),a}return Object(j.a)(t,e),Object(k.a)(t,[{key:"onClickTab",value:function(e){var t=this.props,a=t.switchTabs;t.activeTab!==e&&a(e)}},{key:"render",value:function(){var e=this.props,t=e.weekItems,a=e.fetchWeekWeathers,n=e.fetchTodayWeathers,c=e.woeid,o=e.activeTab,i=e.today;return e.isFetching?r.a.createElement(W.a,{type:"Bars",color:"#cbd2d",width:50,height:50}):r.a.createElement("div",{className:"wrapper ".concat("today"===o?"wrapper--".concat(i.weatherStateAbbr):"")},r.a.createElement(D,{activeTab:o,onClickTab:this.onClickTab}),"today"===o?r.a.createElement(B,{fetchTodayWeathers:n,woeid:c,today:i}):"","week"===o?r.a.createElement(M,{fetchWeekWeathers:a,woeid:c,items:t}):"")}}]),t}(n.Component),U=a(10),J=a.n(U),Y=a(17),K=a(18),L=a.n(K),$=function(e,t){return fetch(e,t).then((function(e){return e.ok?e.json():Promise.reject(e.text())}),(function(e){return Promise.reject(e)})).then((function(e){return{json:L()(e)}}),(function(e){return{error:e}})).catch((function(e){return L()(e)}))},q="https://cors-anywhere.herokuapp.com/metaweather.com",z=function(e){return"".concat(q,"/api/location/").concat(e,"/")},G=function(e,t){return"".concat(q,"/api/location/").concat(e,"/").concat(t)},Q=function(e){return e.location.woeid},V=function(e){return e.weather.consolidatedWeather},X=function(e){return e.weather.today},Z=function(e){return e.weather.activeTab},ee=function(e){return e.weather.isFetching},te=function(e,t,a,n){return{type:"FETCH_WEEK_WEATHERS_SUCCESS",consolidatedWeather:e,time:t,sunRise:a,sunSet:n}},ae=Object(_.b)((function(e){return{weekItems:V(e),woeid:Q(e),today:X(e),activeTab:Z(e),isFetching:ee(e)}}),{fetchTodayWeathers:function(e,t){return function(){var a=Object(Y.a)(J.a.mark((function a(n,r){var c,o,i,s;return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c=r(),o=X(c),Object.keys(o).length){a.next=8;break}return a.next=5,$(G(e,R(t)));case 5:i=a.sent,s=i.json,n({type:"FETCH_TODAY_WEATHERS_SUCCESS",today:s[0]});case 8:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},switchTabs:function(e){return function(t){t({type:"SWITCH_TABS",activeTab:e})}},fetchWeekWeathers:function(e){return function(){var t=Object(Y.a)(J.a.mark((function t(a){var n,r,c,o,i,s;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$(z(e));case 2:n=t.sent,r=n.json,c=r.consolidatedWeather,o=r.time,i=r.sunRise,s=r.sunSet,a(te(c,o,i,s));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){return r.a.createElement(I,e)}));v=ae,o.a.render(r.a.createElement(E.AppContainer,null,r.a.createElement(_.a,{store:y()},r.a.createElement(v,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.772d42c3.chunk.js.map